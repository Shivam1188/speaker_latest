exports.id=631,exports.ids=[631],exports.modules={7835:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},26088:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var a=t(60687),s=t(43210),o=t(54864),n=t(55533);function i({children:e}){let r=(0,s.useRef)(null);return r.current||(r.current=(0,n.yO)()),(0,a.jsx)(o.Kq,{store:r.current,children:e})}},30182:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>m,Ct:()=>h,K3:()=>i,LN:()=>c,Ww:()=>l,az:()=>s});var a=t(9317);let s=(0,a.zD)("practice/initialize",async(e,{rejectWithValue:r})=>{try{return{paragraph:e}}catch(e){return r(e.response?.data?.message||"Failed to initialize practice")}}),o={isRecording:!1,isAnalyzing:!1,analysisResults:null,error:null,paragraph:"",audioChunks:[],socket:null,mediaRecorder:null,stream:null,sessionId:null},n=(0,a.Z0)({name:"practice",initialState:o,reducers:{startRecording:e=>{e.isRecording=!0},stopRecording:e=>{e.isRecording=!1,e.mediaRecorder&&e.mediaRecorder.stop(),e.stream&&e.stream.getTracks().forEach(e=>e.stop()),e.socket&&e.socket.close()},addAudioChunk:(e,r)=>{e.audioChunks.push(r.payload)},setAnalysisResults:(e,r)=>{e.analysisResults=r.payload,e.isAnalyzing=!1},setSocket:(e,r)=>{e.socket=r.payload},setMediaRecorder:(e,r)=>{e.mediaRecorder=r.payload},setStream:(e,r)=>{e.stream=r.payload},resetPracticeState:e=>{Object.assign(e,o)}},extraReducers:e=>{e.addCase(s.pending,e=>{e.isAnalyzing=!0,e.error=null}).addCase(s.fulfilled,(e,r)=>{e.paragraph=r.payload.paragraph,e.isAnalyzing=!1}).addCase(s.rejected,(e,r)=>{e.isAnalyzing=!1,e.error=r.payload})}}),{startRecording:i,stopRecording:l,addAudioChunk:d,setAnalysisResults:c,setSocket:u,setMediaRecorder:p,setStream:g,resetPracticeState:h}=n.actions,m=n.reducer},34241:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>l,mU:()=>o});var a=t(9317),s=t(88661);let o=(0,a.zD)("paragraph/generateParagraph",async(e,{rejectWithValue:r})=>{try{let r={student_class:e.class,accent:e.accent,topic:e.topic,mood:e.mood};return(await (0,s.$P)("/generate-prompt",r)).response}catch(e){return r(e.response?.data?.message||"An error occurred")}}),n=(0,a.Z0)({name:"paragraph",initialState:{generatedParagraph:null,isLoading:!1,error:null},reducers:{resetParagraphState:e=>{e.generatedParagraph=null,e.isLoading=!1,e.error=null}},extraReducers:e=>{e.addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.isLoading=!1,e.generatedParagraph=r.payload}).addCase(o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message})}}),{resetParagraphState:i}=n.actions,l=n.reducer},38619:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>i,SH:()=>n,gJ:()=>s});var a=t(9317);let s=(0,a.zD)("chat/sendMessage",async(e,{rejectWithValue:r})=>{try{let r={question:e.question,subject:e.subject||"",curriculum:e.curriculum||""},t=await fetch("https://www.edusmartai.com/chat/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=t.headers.get("content-type");if(!a||!a.includes("application/json")){let e=await t.text();throw Error(`Invalid response: ${e.substring(0,100)}`)}if(!t.ok){let e=await t.json();throw Error(e.detail||"Request failed")}return await t.json()}catch(e){return r(e.message||"An error occurred")}}),o=(0,a.Z0)({name:"chat",initialState:{status:"idle",error:null},reducers:{resetError:e=>{e.error=null}},extraReducers:e=>{e.addCase(s.pending,e=>{e.status="loading",e.error=null}).addCase(s.fulfilled,e=>{e.status="succeeded"}).addCase(s.rejected,(e,r)=>{e.status="failed",e.error=r.payload})}}),{resetError:n}=o.actions,i=o.reducer},43563:(e,r,t)=>{Promise.resolve().then(t.bind(t,37590)),Promise.resolve().then(t.bind(t,26088))},45401:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>m,DY:()=>i,Lx:()=>n,_d:()=>d,y4:()=>l});var a=t(9317),s=t(88661),o=t(51060);let n=(0,a.zD)("/login",async(e,{rejectWithValue:r})=>{try{console.log("Auth slice: Calling API login with:",e);let r=await (0,s.$P)("/login",e);return console.log("Auth slice: API response:",r),r}catch(e){return console.error("Auth slice: Login error:",e),r(e.response?.data?.detail||e.message||"Login failed")}}),i=(0,a.zD)("auth/register",async(e,{rejectWithValue:r})=>{try{return await (0,s.$P)("/register",e)}catch(t){let e;return r(o.A.isAxiosError(t)&&t.response?.data?t.response.data:t instanceof Error?{message:t.message}:{message:String(t)})}}),l=(0,a.zD)("/logout",async(e,{rejectWithValue:r})=>{try{await (0,s.$P)("/logout");return}catch(e){return r(e.response?.data?.detail||"Logout failed")}}),d=(0,a.zD)("/verifyAuth",async(e,{rejectWithValue:r})=>{try{let e=localStorage.getItem("access_token");return console.log(e),!!e}catch(e){return r(e.response?.data?.detail||"Logout failed")}}),c=(0,a.Z0)({name:"auth",initialState:{user:null,tokens:null,username:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{clearError:e=>{e.error=null},setTokens:(e,r)=>{e.tokens=r.payload,e.isAuthenticated=!0,localStorage.setItem("access_token",r.payload.access_token)},clearAuth:e=>{e.user=null,e.tokens=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("access_token")},setUser:(e,r)=>{e.user=r.payload}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,r)=>{e.isLoading=!1,e.user=r.payload.user,e.tokens=r.payload.tokens,e.isAuthenticated=!0,e.error=null,localStorage.setItem("access_token",r.payload.access_token),localStorage.setItem("username",r.payload.username)}).addCase(n.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.isAuthenticated=!1,localStorage.removeItem("access_token")}),e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoading=!1,e.user=r.payload.user,e.tokens=r.payload.tokens,e.isAuthenticated=!1,e.error=null}).addCase(i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.isAuthenticated=!1,localStorage.removeItem("access_token")}),e.addCase(l.pending,e=>{e.isLoading=!0}).addCase(l.fulfilled,e=>{e.isLoading=!1,e.user=null,e.tokens=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username")}).addCase(l.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.user=null,e.tokens=null,e.isAuthenticated=!1,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("username")}),e.addCase(d.pending,e=>{e.isLoading=!0}).addCase(d.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=r.payload}).addCase(d.rejected,e=>{e.isAuthenticated=!1})}}),{clearError:u,setTokens:p,clearAuth:g,setUser:h}=c.actions,m=c.reducer},55533:(e,r,t)=>{"use strict";t.d(r,{GV:()=>p,jL:()=>u,yO:()=>c});var a=t(9317),s=t(54864),o=t(45401),n=t(34241),i=t(30182),l=t(71565),d=t(38619);function c(){return(0,a.U1)({reducer:{auth:o.Ay,paragraph:n.Ay,practice:i.Ay,teacher:l.Ay,chat:d.Ay},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}}),devTools:!1})}c();let u=()=>(0,s.wA)(),p=s.d4},61135:()=>{},71565:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>g,HX:()=>n,dk:()=>l,jN:()=>d,mM:()=>c,t:()=>u});var a=t(9317),s=t(88661);let o={class:null,subject:null,curriculum:null,isLoading:!1,error:null,ocrResults:{},progress:0},n=(0,a.zD)("teacher/processFiles",async(e,{getState:r,rejectWithValue:t,dispatch:a})=>{try{let{class:t,subject:o,curriculum:n}=r().teacher,i={};for(let r=0;r<e.length;r++){let l=e[r],d=new FormData;d.append("file",l),d.append("student_class",t||""),d.append("subject",o||""),d.append("curriculum",n||"");let c=Math.floor((r+1)/e.length*100);a(p(c));let u=await (0,s.$P)("/upload/",d);i[l.name]=u.data?.extracted_text||"No text"}return{results:i}}catch(r){console.error("Upload error:",r);let e="Processing failed";return r.response?e=r.response.data?.detail||r.response.statusText||`Server error: ${r.response.status}`:r.message&&(e=r.message),t(e)}}),i=(0,a.Z0)({name:"teacher",initialState:o,reducers:{setClass:(e,r)=>{e.class=r.payload},setSubject:(e,r)=>{e.subject=r.payload},setCurriculum:(e,r)=>{e.curriculum=r.payload},resetUpload:()=>o,setProgress:(e,r)=>{e.progress=r.payload}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null,e.progress=0}).addCase(n.fulfilled,(e,r)=>{e.isLoading=!1,e.ocrResults=r.payload.results,e.progress=100}).addCase(n.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload,e.progress=0})}}),{setClass:l,setSubject:d,setCurriculum:c,resetUpload:u,setProgress:p}=i.actions,g=i.reducer},82922:(e,r,t)=>{"use strict";t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Downloads\\\\akki-project with next js - Copy\\\\akki-project with next js - Copy\\\\src\\\\app\\\\provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Downloads\\akki-project with next js - Copy\\akki-project with next js - Copy\\src\\app\\provider.tsx","default")},83315:(e,r,t)=>{Promise.resolve().then(t.bind(t,5625)),Promise.resolve().then(t.bind(t,82922))},84275:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},88661:(e,r,t)=>{"use strict";t.d(r,{$P:()=>n});class a extends Error{constructor(e,r,t){super(e),this.status=r,this.data=t}}let s=()=>null;async function o(e){if(401===e.status)return Promise.reject(new a("Session expired",401));if(!e.ok){let r={};try{r=await e.json()}catch(e){}throw new a(r.detail||r.message||"API Error",e.status,r)}return e.json()}async function n(e,r={},t={}){let a=s(),i=new Headers;r instanceof FormData||i.set("Content-Type","application/json"),a&&i.set("Authorization",`Bearer ${a}`),t.headers&&(t.headers instanceof Headers?Array.from(t.headers.entries()):Array.isArray(t.headers)?t.headers:Object.entries(t.headers)).forEach(([e,r])=>{i.append(e,r)});let l=r instanceof FormData?r:JSON.stringify(r),{headers:d,...c}=t;return o(await fetch(`https://www.edusmartai.com${e}`,{method:"POST",headers:i,body:l,...c}))}},94431:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,metadata:()=>c});var a=t(37413),s=t(22376),o=t.n(s),n=t(68726),i=t.n(n);t(61135);var l=t(82922),d=t(5625);let c={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${o().variable} ${i().variable} antialiased`,children:(0,a.jsxs)(l.default,{children:[e,(0,a.jsx)(d.Toaster,{position:"top-right"})]})})})}}};